(this["webpackJsonplms_super-admin-react-v1.0"]=this["webpackJsonplms_super-admin-react-v1.0"]||[]).push([[49],{303:function(e,t,a){"use strict";a.r(t);var n=a(72),r=a(0),s=a.n(r),c=a(124),o=a.n(c),l=a(22),i=a(26),m=(a(190),a(14)),d=a(84),u=a.n(d),p=a(173),h=a.n(p);a(28),a(9);t.default=function(e){var t=Object(r.useState)(""),a=Object(n.a)(t,2),c=a[0],d=a[1],p=Object(r.useState)(""),b=Object(n.a)(p,2),f=b[0],E=b[1],g=Object(r.useState)(!1),v=Object(n.a)(g,2),N=v[0],O=v[1],y=Object(r.useState)(!1),S=Object(n.a)(y,2),j=S[0],w=S[1],P=Object(r.useState)(!1),x=Object(n.a)(P,2),C=x[0],U=x[1],k=Object(r.useState)(""),W=Object(n.a)(k,2),M=W[0],T=W[1],D=Object(r.useState)(""),I=Object(n.a)(D,2),V=I[0],J=I[1];return Object(r.useEffect)((function(){}),[]),s.a.createElement(i.a,null,s.a.createElement("div",{className:"auth-wrapper"},s.a.createElement("div",{className:"auth-content"},s.a.createElement("div",{className:"auth-bg"},s.a.createElement("span",{className:"r"}),s.a.createElement("span",{className:"r s"}),s.a.createElement("span",{className:"r s"}),s.a.createElement("span",{className:"r"})),s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-body text-center"},s.a.createElement("div",{className:"mb-4"},s.a.createElement("i",{className:"feather icon-shield auth-icon"})),s.a.createElement("h3",{className:"mb-4"},"Reset Password"),s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("input",{type:"email",className:"form-control",placeholder:"Username",disabled:!!j,value:c,onChange:function(e){return d(e.target.value)}})),s.a.createElement("div",{hidden:!!C},s.a.createElement("div",{className:"input-group mb-4 justify-content-center",hidden:!j},s.a.createElement(h.a,{value:f,onChange:function(e){console.log("check otp value",e),E(e)},numInputs:6,isInputNum:!0,separator:s.a.createElement("span",null,"-"),inputStyle:"otpInputStyle form-control ",containerStyle:"otpContainerStyle"}))),s.a.createElement("div",{hidden:!C},s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("input",{type:"text",className:"form-control",placeholder:"New Password",value:M,onChange:function(e){return T(e.target.value)}})),s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("input",{type:"text",className:"form-control",placeholder:"confirm Password",value:V,onChange:function(e){return J(e.target.value)}}))),s.a.createElement("div",{hidden:!!C},s.a.createElement("button",{className:"btn btn-primary shadow-2 mb-4",onClick:function(){console.log("username",c),O(!0);try{o.a.post("".concat(m.a.serverUrl,"/salesDistributorMngt/email/").concat(c,"/sendEmailOtp")).then((function(e){console.log("send otp",e),"success"==e.data.responseMsg&&(O(!1),w(!0))})).catch((function(e){console.log("error",e.response.data),u.a.fire({icon:"error",title:"User Not Found",text:"Please Enter valid Username"}),d("")}))}catch(e){u.a.fire({icon:"error",title:"Something Went Wrong",text:e.response.data}),d(""),console.log("err catch",e.response.data)}},hidden:!!j},"Send Otp ",s.a.createElement("span",{className:"loader",hidden:!N})),s.a.createElement("button",{className:"btn btn-primary shadow-2 mb-4",onClick:function(){try{o.a.post("".concat(m.a.serverUrl,"/salesDistributorMngt/email/").concat(c,"/otp/").concat(f,"/validateUserOtp")).then((function(e){console.log("verify otp",e),!0===e.data&&U(!0),!1===e.data&&u.a.fire({icon:"error",title:"OTP Not Verified",text:"Please Enter valid OTP"})}))}catch(e){u.a.fire({icon:"error",title:"OTP Not Verified",text:"Please Enter valid OTP"}),console.log("err catch",e.response.data)}},hidden:!j},"Verify Otp")),s.a.createElement("div",{hidden:!C},s.a.createElement("button",{className:"btn btn-primary shadow-2 mb-4",onClick:function(){if(M==V)try{o.a.put("".concat(m.a.serverUrl,"/salesDistributorMngt/email/").concat(c,"/password/").concat(V,"/setPasswordByUserName")).then((function(t){console.log("send otp",t.data),200==t.data.responseCode&&u.a.fire({icon:"success",title:"Success",text:"Password Changed Successfully"}).then((function(t){t.isConfirmed&&e.history.push("/auth/signin")}))})).catch((function(e){console.log("error",e.response.data),u.a.fire({icon:"error",title:"Someting Went Wrong",text:e.response.data})}))}catch(t){u.a.fire({icon:"error",title:"Something Went Wrong",text:t.response.data}),d(""),console.log("err catch",t.response.data)}else u.a.fire({icon:"error",title:"Password did not Matched",text:"Please Enter Correct Password"})}},"Reset Password")),s.a.createElement("p",{className:"mb-2 text-muted"},"Already have account ?",s.a.createElement(l.c,{to:"/auth/signin"},"Login")))))))}}}]);